{"version":3,"sources":["../node_modules/faker/locale sync /^/.*$","DevTools.js","redux-devtools/createDevTools.js","redux-devtools/withRedux.js","components/table/styled/TableStyles.js","components/table/styled/Price.js","components/table/hooks/useSorter.js","components/table/hooks/useTableReducer.js","components/table/Table.js","components/products/reducer/fakeData.js","components/products/reducer/sagas.js","components/products/reducer/const.js","components/products/reducer/reducer.js","components/products/styled.js","components/products/Filter.js","components/products/Products.js","components/products/hooks/useQuery.js","store.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","DevTools","children","monitorElement","Children","only","monitorProps","props","Monitor","type","ConnectedMonitor","WrappedComponent","WithRedux","Component","render","Consumer","store","Provider","value","liftedStore","storeState","getState","this","withRedux","connect","state","instrument","options","action","update","createDevTools","toggleVisibilityKey","changePositionKey","changeMonitorKey","defaultIsVisible","theme","keyboardEnabled","Body","styled","div","Row","gray","Cell","size","Text","Name","Count","NumberFormat","Intl","style","currency","Price","price","format","sorter","field","direction","collator","Collator","undefined","numeric","sensitivity","a","b","compare","initialState","sort","sortByKey","directionKey","sortOptions","sortTitle","asc","desc","default","filter","reducer","payload","key","dataIndex","sortDirections","nextDirectionKey","length","Header","HeaderClickable","Table","data","loading","error","columns","useReducer","dispatch","useEffect","col","forEach","sortDirection","useSorter","sorterFunction","sortedData","slice","filteredData","item","name","toLowerCase","includes","title","headerKey","onClick","TableBody","i","rowKey","Cells","column","product","faker","email","count","static","fakeData","mocker","schema","build","then","Promise","setTimeout","products","err","console","fetchProducts","productsSaga","call","put","message","takeEvery","BottomContols","AddButton","button","FilterWraper","filterLink","v","Filter","filterFromQuery","history","useHistory","pathname","useLocation","useState","setFilter","onChange","preventDefault","target","onKeyUp","keyCode","path","push","to","edit","delete","URLSearchParams","search","get","className","filterBy","sagaMiddleware","createSagaMiddleware","rootReducer","combineReducers","createStore","compose","applyMiddleware","run","productsSagas","App","Products","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.fdc2631e.chunk.js","sourcesContent":["var map = {\n\t\"./ReadMe.md\": 1711,\n\t\"./af_ZA\": 159,\n\t\"./af_ZA.js\": 159,\n\t\"./ar\": 160,\n\t\"./ar.js\": 160,\n\t\"./az\": 161,\n\t\"./az.js\": 161,\n\t\"./cz\": 162,\n\t\"./cz.js\": 162,\n\t\"./de\": 163,\n\t\"./de.js\": 163,\n\t\"./de_AT\": 164,\n\t\"./de_AT.js\": 164,\n\t\"./de_CH\": 165,\n\t\"./de_CH.js\": 165,\n\t\"./el\": 166,\n\t\"./el.js\": 166,\n\t\"./en\": 167,\n\t\"./en.js\": 167,\n\t\"./en_AU\": 168,\n\t\"./en_AU.js\": 168,\n\t\"./en_AU_ocker\": 169,\n\t\"./en_AU_ocker.js\": 169,\n\t\"./en_BORK\": 170,\n\t\"./en_BORK.js\": 170,\n\t\"./en_CA\": 171,\n\t\"./en_CA.js\": 171,\n\t\"./en_GB\": 172,\n\t\"./en_GB.js\": 172,\n\t\"./en_IE\": 173,\n\t\"./en_IE.js\": 173,\n\t\"./en_IND\": 174,\n\t\"./en_IND.js\": 174,\n\t\"./en_NG\": 175,\n\t\"./en_NG.js\": 175,\n\t\"./en_US\": 176,\n\t\"./en_US.js\": 176,\n\t\"./en_ZA\": 177,\n\t\"./en_ZA.js\": 177,\n\t\"./es\": 178,\n\t\"./es.js\": 178,\n\t\"./es_MX\": 179,\n\t\"./es_MX.js\": 179,\n\t\"./fa\": 180,\n\t\"./fa.js\": 180,\n\t\"./fi\": 181,\n\t\"./fi.js\": 181,\n\t\"./fr\": 182,\n\t\"./fr.js\": 182,\n\t\"./fr_CA\": 183,\n\t\"./fr_CA.js\": 183,\n\t\"./fr_CH\": 184,\n\t\"./fr_CH.js\": 184,\n\t\"./ge\": 185,\n\t\"./ge.js\": 185,\n\t\"./id_ID\": 186,\n\t\"./id_ID.js\": 186,\n\t\"./it\": 187,\n\t\"./it.js\": 187,\n\t\"./ja\": 188,\n\t\"./ja.js\": 188,\n\t\"./ko\": 189,\n\t\"./ko.js\": 189,\n\t\"./nb_NO\": 190,\n\t\"./nb_NO.js\": 190,\n\t\"./nep\": 191,\n\t\"./nep.js\": 191,\n\t\"./nl\": 192,\n\t\"./nl.js\": 192,\n\t\"./nl_BE\": 193,\n\t\"./nl_BE.js\": 193,\n\t\"./pl\": 194,\n\t\"./pl.js\": 194,\n\t\"./pt_BR\": 195,\n\t\"./pt_BR.js\": 195,\n\t\"./pt_PT\": 196,\n\t\"./pt_PT.js\": 196,\n\t\"./ru\": 197,\n\t\"./ru.js\": 197,\n\t\"./sk\": 198,\n\t\"./sk.js\": 198,\n\t\"./sv\": 199,\n\t\"./sv.js\": 199,\n\t\"./tr\": 200,\n\t\"./tr.js\": 200,\n\t\"./uk\": 201,\n\t\"./uk.js\": 201,\n\t\"./vi\": 202,\n\t\"./vi.js\": 202,\n\t\"./zh_CN\": 203,\n\t\"./zh_CN.js\": 203,\n\t\"./zh_TW\": 204,\n\t\"./zh_TW.js\": 204,\n\t\"./zu_ZA\": 205,\n\t\"./zu_ZA.js\": 205\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1710;","import React from 'react'\r\n\r\n// Exported from redux-devtools\r\nimport { createDevTools } from './redux-devtools'\r\n\r\n// Monitors are separate packages, and you can make a custom one\r\nimport LogMonitor from 'redux-devtools-log-monitor'\r\nimport DockMonitor from 'redux-devtools-dock-monitor'\r\nimport SliderMonitor from 'redux-slider-monitor'\r\n\r\n// createDevTools takes a monitor and produces a DevTools component\r\nconst DevTools = createDevTools(\r\n  // Monitors are individually adjustable with props.\r\n  // Consult their repositories to learn about those props.\r\n  // Here, we put LogMonitor inside a DockMonitor.\r\n  // Note: DockMonitor is visible by default.\r\n  <DockMonitor\r\n    toggleVisibilityKey=\"ctrl-h\"\r\n    changePositionKey=\"ctrl-q\"\r\n    changeMonitorKey=\"ctrl-m\"\r\n    defaultIsVisible\r\n  >\r\n    <LogMonitor theme=\"tomorrow\" />\r\n    <SliderMonitor keyboardEnabled />\r\n  </DockMonitor>\r\n)\r\n\r\nexport default DevTools\r\n","import React, { Children, Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport instrument from 'redux-devtools-instrument'\r\nimport withRedux from './withRedux'\r\n\r\nexport default function createDevTools (children) {\r\n  // console.log(\"createDevTools\");\r\n\r\n  const monitorElement = Children.only(children)\r\n  const monitorProps = monitorElement.props\r\n  const Monitor = monitorElement.type\r\n  const mapStateToProps = (state) => {\r\n    // console.log(\"mapStateToProps devtools\");\r\n    return state\r\n  }\r\n  const ConnectedMonitor = withRedux(connect(mapStateToProps)(Monitor))\r\n\r\n  class DevTools extends Component {\r\n    render () {\r\n      // console.log(\"render DevTools \");\r\n\r\n      return <ConnectedMonitor {...monitorProps} />\r\n    }\r\n  }\r\n\r\n  DevTools.instrument = (options) =>\r\n    instrument(\r\n      (state, action) => Monitor.update(monitorProps, state, action),\r\n      options\r\n    )\r\n\r\n  return DevTools\r\n}\r\n","import React, { Component } from 'react'\r\nimport { ReactReduxContext } from 'react-redux'\r\n\r\nexport default function withRedux (WrappedComponent) {\r\n  class WithRedux extends Component {\r\n    render () {\r\n      // console.log(\"withRedux devtools\");\r\n      return (\r\n        <ReactReduxContext.Consumer>\r\n          {({ store, ...reduxContext }) => {\r\n            // console.log(store.liftedStore.getState());\r\n\r\n            return (\r\n              <ReactReduxContext.Provider\r\n                value={{\r\n                  store: store.liftedStore,\r\n                  storeState: store.liftedStore.getState()\r\n                }}\r\n              >\r\n                <WrappedComponent {...this.props} />\r\n              </ReactReduxContext.Provider>\r\n            )\r\n          }}\r\n        </ReactReduxContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n\r\n  return WithRedux\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const Body = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-grow: 1;\r\n  ${({ gray }) => (gray ? `& > ${Cell} { background: lightgray; }` : '')}\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const Cell = styled.div`\r\n  box-sizing: border-box;\r\n  border: solid 3px gray;\r\n  overflow: hidden;\r\n  flex-grow: 1;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  max-width: ${({ size }) => (size || 33)}%;\r\n`\r\n\r\nexport const Text = styled.div`\r\n  text-align: left;\r\n  padding: 4px;\r\n  font-size: 12pt;\r\n`\r\nexport const Name = styled(Text)`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  width: 80%;\r\n`\r\n\r\nexport const Count = styled.div`\r\n  background: blueviolet;\r\n  border-radius: 10px;\r\n  padding: 4px;\r\n  color: white;\r\n  font-size: 12pt;\r\n`\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Text } from './TableStyles'\r\n\r\n/**\r\n * гипотетически, это сломается,\r\n * если в таблицу примешать данные в другой валюте.\r\n *\r\n * однако, в данном случае, дана таблица только с конкретной валютой\r\n */\r\nconst NumberFormat = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD'\r\n})\r\n\r\nexport function Price ({ price }) {\r\n  return <Text>{NumberFormat.format(price)}</Text>\r\n}\r\n\r\nPrice.propTypes = {\r\n  price: PropTypes.number\r\n}\r\n","export function useSorter (state) {\r\n  const { sortByKey, directionKey } = state.sort\r\n  const { dataIndex, sortDirections = [] } = state.sortOptions[sortByKey] || {}\r\n  const sortDirection = sortDirections[directionKey] || false\r\n  return [sorter(dataIndex, sortDirection), sortDirection]\r\n}\r\n\r\nfunction sorter (field, direction) {\r\n  // \"return data vs return data.slice(0).sort(()=>0)\"\r\n  // https://jsfiddle.net/t2asrh0k/5/\r\n  // Intl.Collator() - вцелом медленнее обыной функции сортировки,\r\n  // однако позволяет корректно сортировать товары на других языках\r\n  // Наименования товаров в задании на Русском языке, поэтому буду\r\n  // придерживаться данной функции (bench https://jsfiddle.net/3hcwvy6p/9/)\r\n\r\n  if (!field || !direction) {\r\n    return false\r\n    // return () => 0;\r\n  }\r\n  const collator = new Intl.Collator(undefined, {\r\n    numeric: true,\r\n    sensitivity: 'base'\r\n  })\r\n  switch (direction) {\r\n    case 'asc':\r\n      return (a, b) => collator.compare(a[field], b[field])\r\n    case 'desc':\r\n      return (a, b) => collator.compare(b[field], a[field])\r\n    case 'default':\r\n    default:\r\n      return false\r\n      // return () => 0; // порядок не меняет, однако производительность на порядок ниже\r\n  }\r\n}\r\n","import { useReducer } from 'react'\r\n\r\nconst initialState = {\r\n  sort: {\r\n    sortByKey: false,\r\n    directionKey: 0\r\n  },\r\n  sortOptions: {},\r\n  sortTitle: {\r\n    // здесь можно положить className\r\n    asc: '\\\\/',\r\n    desc: '/\\\\',\r\n    default: '||'\r\n  },\r\n  filter: false\r\n}\r\n\r\nfunction reducer (state, action) {\r\n  switch (action.type) {\r\n    case 'sortInit': {\r\n      const { key, dataIndex, sortDirections } = action.payload\r\n      return {\r\n        ...state,\r\n        sortOptions: {\r\n          ...state.sortOptions,\r\n          [key]: {\r\n            dataIndex,\r\n            sortDirections\r\n          }\r\n        }\r\n      }\r\n    }\r\n    case 'sortToggle': {\r\n      const { sortByKey } = action.payload\r\n      const { sortByKey: oldSortByKey } = state.sort\r\n\r\n      const isSameSort = oldSortByKey === sortByKey\r\n      const { directionKey } = isSameSort ? state.sort : { directionKey: 0 }\r\n\r\n      const { sortDirections } = state.sortOptions[sortByKey]\r\n      const isNewCicle = directionKey === sortDirections.length - 1\r\n\r\n      const nextDirectionKey = isNewCicle ? 0 : directionKey + 1\r\n      return {\r\n        ...state,\r\n        sort: {\r\n          sortByKey,\r\n          directionKey: nextDirectionKey\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function useTableReducer () {\r\n  return useReducer(reducer, initialState)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { Body, Row, Cell, Text } from './styled'\r\nimport { useSorter, useTableReducer } from './hooks'\r\n\r\nconst Header = styled(Cell)`\r\n  user-select: none;\r\n`\r\nconst HeaderClickable = styled(Header)`\r\n  cursor: pointer;\r\n`\r\n\r\nexport default function Table ({ data, filter, loading, error, columns }) {\r\n  const [state, dispatch] = useTableReducer()\r\n\r\n  useEffect(() => {\r\n    const getSortingState = () => {\r\n      const sortingColumns = columns.filter((col) => col.sortDirections)\r\n      sortingColumns.forEach(({ key, dataIndex, sortDirections }) => {\r\n        dispatch({\r\n          type: 'sortInit',\r\n          payload: { key, dataIndex, sortDirections }\r\n        })\r\n      })\r\n    }\r\n    getSortingState()\r\n  }, [columns, dispatch])\r\n\r\n  const [sorterFunction, sortDirection] = useSorter(state)\r\n\r\n  const sortedData = sorterFunction\r\n    ? data.slice(0).sort(sorterFunction)\r\n    : data\r\n\r\n  const filteredData = filter\r\n    ? sortedData.filter(item => item.name.toLowerCase().includes(filter.toLowerCase()))\r\n    : sortedData\r\n\r\n  const rowKey = 'header-row'\r\n\r\n  return (\r\n    <Body>\r\n      <Row key={rowKey}>\r\n        {columns.map(({ title, size, key, sortDirections }) => {\r\n          const headerKey = `${rowKey}-${key}`\r\n          if (sortDirections && state.sort) {\r\n            const { sortByKey } = state.sort\r\n            const isMatchSort = key === sortByKey\r\n            const sortTitle = isMatchSort\r\n              ? state.sortTitle[sortDirection]\r\n              : state.sortTitle.default\r\n            return (\r\n              <HeaderClickable\r\n                key={headerKey}\r\n                onClick={() => {\r\n                  dispatch({ type: 'sortToggle', payload: { sortByKey: key } })\r\n                }}\r\n                size={size}\r\n              >\r\n                <Text>{title}</Text>\r\n                <Text>{sortTitle}</Text>\r\n              </HeaderClickable>\r\n            )\r\n          }\r\n          return (\r\n            <Header key={headerKey} size={size}>\r\n              <Text>{title}</Text>\r\n            </Header>\r\n          )\r\n        })}\r\n      </Row>\r\n      <TableBody {...{ data: filteredData, columns }} />\r\n    </Body>\r\n  )\r\n}\r\n\r\nfunction TableBody ({ data, columns }) {\r\n  return data.map((item, i) => {\r\n    const rowKey = `row-${i}`\r\n    return (\r\n      <Row key={rowKey}>\r\n        <Cells {...{ rowKey, item, columns }} />\r\n      </Row>\r\n    )\r\n  })\r\n}\r\n\r\nfunction Cells ({ rowKey, item, columns }) {\r\n  return columns.map((column) => {\r\n    return (\r\n      <Cell key={`${rowKey}-${column.key}`} size={column.size}>\r\n        {column.render ? column.render(item) : item}\r\n      </Cell>\r\n    )\r\n  })\r\n}\r\n\r\nTable.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  filter: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.bool.isRequired,\r\n  columns: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string,\r\n      dataIndex: PropTypes.string,\r\n      key: PropTypes.string.isRequired,\r\n      sortDirections: PropTypes.arrayOf(PropTypes.string),\r\n      size: PropTypes.number,\r\n      onFilter: PropTypes.func,\r\n      render: PropTypes.func\r\n    })\r\n  ).isRequired\r\n}\r\n","/*\r\nИспользую генератор моков,\r\nэто позволяет безболезненно изменять модель данных.\r\nНапример, пока не проработана модель данных \"доставки\".\r\n*/\r\nimport mocker from 'mocker-data-generator'\r\n\r\nconst product = {\r\n  id: {\r\n    faker: 'random.uuid'\r\n  },\r\n  name: {\r\n    faker: 'commerce.productName',\r\n    length: 15\r\n  },\r\n  email: {\r\n    faker: 'internet.email'\r\n  },\r\n  count: {\r\n    faker: 'random.number'\r\n  },\r\n  price: {\r\n    faker: 'finance.amount(100, 1000000, 2)'\r\n  },\r\n  currency: {\r\n    static: 'USD'\r\n  }\r\n  // delivery: {\r\n  //   function: function () {\r\n  //     const a1 = this.faker.commerce.productName();\r\n  //     // const a2 = this.faker.random.price;\r\n  //     return this.faker.random.arrayElement([a1, \"a2\"]);\r\n  //   }\r\n  // }\r\n}\r\n\r\nexport async function fakeData (count = 5) {\r\n  return mocker()\r\n    .schema('products', product, count)\r\n    .build()\r\n    .then(\r\n      (data) => {\r\n        return new Promise((resolve) => {\r\n          setTimeout(() => resolve(data.products), 1000)\r\n        })\r\n        // return data.products;\r\n      },\r\n      (err) => console.error(err)\r\n    )\r\n}\r\n","import { call, put, takeEvery } from 'redux-saga/effects'\r\nimport {\r\n  PRODUCTS_FETCH_REQUESTED,\r\n  PRODUCTS_FETCH_SUCCEEDED,\r\n  PRODUCTS_FETCH_FAILED\r\n} from './const'\r\nimport { fakeData } from './fakeData'\r\n\r\nfunction * fetchProducts ({ payload = {} }) {\r\n  try {\r\n    const { count = 5 } = payload\r\n    const data = yield call(fakeData, count)\r\n    yield put({\r\n      type: PRODUCTS_FETCH_SUCCEEDED,\r\n      payload: { data, loading: false }\r\n    })\r\n  } catch (e) {\r\n    yield put({\r\n      type: PRODUCTS_FETCH_FAILED,\r\n      payload: {\r\n        error: e.message,\r\n        loading: false\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction * productsSaga () {\r\n  yield takeEvery(PRODUCTS_FETCH_REQUESTED, fetchProducts)\r\n}\r\n\r\nexport default productsSaga\r\n","export const PRODUCTS_DATA_PENDING = 'PRODUCTS_DATA_PENDING'\r\nexport const PRODUCTS_DATA_SUCCESS = 'PRODUCTS_DATA_SUCCESS'\r\nexport const PRODUCTS_DATA_FAILED = 'PRODUCTS_DATA_FAILED'\r\n\r\n// Константы - зло. Убил массу времени по невнимательности. (константы были с одинаковыми значениями)\r\nexport const PRODUCTS_FETCH_REQUESTED = 'PRODUCTS_FETCH_REQUESTED'\r\nexport const PRODUCTS_FETCH_SUCCEEDED = 'PRODUCTS_FETCH_SUCCEEDED'\r\nexport const PRODUCTS_FETCH_FAILED = 'PRODUCTS_FETCH_FAILED'\r\n","import {\r\n  PRODUCTS_FETCH_REQUESTED,\r\n  PRODUCTS_FETCH_SUCCEEDED,\r\n  PRODUCTS_FETCH_FAILED\r\n} from './const'\r\n\r\nconst initialState = {\r\n  data: [],\r\n  loading: false,\r\n  error: false\r\n}\r\n\r\nexport default function reducer (state = initialState, { type, payload }) {\r\n  // console.log(type);\r\n  switch (type) {\r\n    case PRODUCTS_FETCH_REQUESTED: {\r\n      return { ...state, loading: true }\r\n    }\r\n    case PRODUCTS_FETCH_SUCCEEDED: {\r\n      const { data } = payload\r\n      return { ...state, data, loading: false, error: false }\r\n    }\r\n    case PRODUCTS_FETCH_FAILED: {\r\n      const { error } = payload\r\n      return { ...state, error, loading: false }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const BottomContols = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const AddButton = styled.button`\r\n  display: flex;\r\n`\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\n\r\nconst FilterWraper = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst filterLink = v => (`?search=${v}`)\r\n\r\nexport default function Filter ({ filterFromQuery }) {\r\n  const history = useHistory()\r\n  const { pathname } = useLocation()\r\n  const [filter, setFilter] = useState(filterFromQuery)\r\n  const filterChange = e => {\r\n    e.preventDefault()\r\n    setFilter(e.target.value)\r\n  }\r\n  const handleKeyUp = e => {\r\n    if (e.keyCode === 13) {\r\n      const path = e.target.value.length ? filterLink(e.target.value) : pathname\r\n      history.push(path)\r\n    }\r\n  }\r\n  return (\r\n    <FilterWraper>\r\n      <input\r\n        type=\"text\"\r\n        onChange={filterChange}\r\n        onKeyUp={handleKeyUp}\r\n        value={filter}\r\n      />\r\n      <Link to={filterLink(filter)}>\r\n        <button>Искать</button>\r\n      </Link>\r\n    </FilterWraper>\r\n  )\r\n}\r\n\r\nFilter.propTypes = {\r\n  filterFromQuery: PropTypes.string\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Table, Name, Count, Price } from '../table'\r\nimport { PRODUCTS_FETCH_REQUESTED } from './reducer'\r\nimport { useQuery } from './hooks'\r\nimport { BottomContols, AddButton } from './styled'\r\nimport Filter from './Filter'\r\nimport './style.css'\r\n\r\nconst columns = [\r\n  {\r\n    key: 'name',\r\n    title: 'Name',\r\n    dataIndex: 'name',\r\n    sortDirections: ['default', 'asc', 'desc'],\r\n    size: 45,\r\n    // eslint-disable-next-line react/display-name\r\n    render: (item) => (\r\n      <>\r\n        <Name>{item.name}</Name>\r\n        <Count>{item.count}</Count>\r\n      </>\r\n    )\r\n  },\r\n  {\r\n    key: 'price',\r\n    title: 'Price',\r\n    dataIndex: 'price',\r\n    sortDirections: ['default', 'asc', 'desc'],\r\n    size: 30,\r\n    // eslint-disable-next-line react/display-name\r\n    render: (item) => <Price price={item.price} />\r\n  },\r\n  {\r\n    key: 'actions',\r\n    title: 'Actions',\r\n    size: 25,\r\n    // eslint-disable-next-line react/display-name\r\n    render: (item, action = { edit: () => {}, delete: () => {} }) => (\r\n      <>\r\n        <button onClick={action.edit(item)}>Edit</button>\r\n        <button onClick={action.delete(item)}>Delete</button>\r\n      </>\r\n    )\r\n  }\r\n]\r\n\r\nfunction ProductsPage ({ products, dispatch }) {\r\n  const { data, loading, error } = products\r\n  const filterFromQuery = useQuery().get('search') || ''\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: PRODUCTS_FETCH_REQUESTED, payload: { count: 100 } })\r\n  }, [dispatch])\r\n  return (\r\n    <div className=\"products\">\r\n      <BottomContols>\r\n        <Filter {...{ filterFromQuery }} />\r\n        <AddButton>Add New</AddButton>\r\n      </BottomContols>\r\n      <Table {...{\r\n        data,\r\n        filter: filterFromQuery,\r\n        loading,\r\n        error,\r\n        columns,\r\n        filterBy: 'name'\r\n      }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nProductsPage.propTypes = {\r\n  products: PropTypes.shape({\r\n    loading: PropTypes.bool.isRequired,\r\n    error: PropTypes.bool.isRequired,\r\n    data: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        name: PropTypes.string,\r\n        price: PropTypes.number\r\n      })\r\n    )\r\n  }),\r\n  dispatch: PropTypes.func\r\n}\r\n\r\nexport default connect((state) => ({\r\n  products: state.products\r\n}))(ProductsPage)\r\n","import { useLocation } from 'react-router-dom'\r\n\r\nexport function useQuery () {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n","import {\r\n  combineReducers,\r\n  createStore,\r\n  compose,\r\n  applyMiddleware\r\n} from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport DevTools from './DevTools'\r\nimport { products, productsSagas } from './components/products'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst rootReducer = combineReducers({\r\n  products\r\n})\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(applyMiddleware(sagaMiddleware), DevTools.instrument())\r\n)\r\n\r\nsagaMiddleware.run(productsSagas)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Products } from './components'\r\n\r\nimport './styles.css'\r\n\r\nfunction App () {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Products/>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport App from './App'\r\nimport DevTools from './DevTools'\r\n\r\nconst rootElement = document.getElementById('root')\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <Provider store={store}>\r\n    <App />\r\n    <DevTools />\r\n  </Provider>,\r\n  // </React.StrictMode>,\r\n  rootElement\r\n)\r\n"],"sourceRoot":""}