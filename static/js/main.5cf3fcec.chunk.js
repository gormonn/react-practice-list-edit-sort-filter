(this["webpackJsonpreact-practice-list-edit-sort-filter"]=this["webpackJsonpreact-practice-list-edit-sort-filter"]||[]).push([[0],{1710:function(e,t,n){var r={"./ReadMe.md":1711,"./af_ZA":159,"./af_ZA.js":159,"./ar":160,"./ar.js":160,"./az":161,"./az.js":161,"./cz":162,"./cz.js":162,"./de":163,"./de.js":163,"./de_AT":164,"./de_AT.js":164,"./de_CH":165,"./de_CH.js":165,"./el":166,"./el.js":166,"./en":167,"./en.js":167,"./en_AU":168,"./en_AU.js":168,"./en_AU_ocker":169,"./en_AU_ocker.js":169,"./en_BORK":170,"./en_BORK.js":170,"./en_CA":171,"./en_CA.js":171,"./en_GB":172,"./en_GB.js":172,"./en_IE":173,"./en_IE.js":173,"./en_IND":174,"./en_IND.js":174,"./en_NG":175,"./en_NG.js":175,"./en_US":176,"./en_US.js":176,"./en_ZA":177,"./en_ZA.js":177,"./es":178,"./es.js":178,"./es_MX":179,"./es_MX.js":179,"./fa":180,"./fa.js":180,"./fi":181,"./fi.js":181,"./fr":182,"./fr.js":182,"./fr_CA":183,"./fr_CA.js":183,"./fr_CH":184,"./fr_CH.js":184,"./ge":185,"./ge.js":185,"./id_ID":186,"./id_ID.js":186,"./it":187,"./it.js":187,"./ja":188,"./ja.js":188,"./ko":189,"./ko.js":189,"./nb_NO":190,"./nb_NO.js":190,"./nep":191,"./nep.js":191,"./nl":192,"./nl.js":192,"./nl_BE":193,"./nl_BE.js":193,"./pl":194,"./pl.js":194,"./pt_BR":195,"./pt_BR.js":195,"./pt_PT":196,"./pt_PT.js":196,"./ru":197,"./ru.js":197,"./sk":198,"./sk.js":198,"./sv":199,"./sv.js":199,"./tr":200,"./tr.js":200,"./uk":201,"./uk.js":201,"./vi":202,"./vi.js":202,"./zh_CN":203,"./zh_CN.js":203,"./zh_TW":204,"./zh_TW.js":204,"./zu_ZA":205,"./zu_ZA.js":205};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=1710},1813:function(e,t,n){},1814:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(44),o=n.n(c),s=n(19),i=n(30),l=n(214),u=n(22),d=n.n(u),f=n(10);n(69),n(27);var p=n(216);var m=n(207),j=n.n(m),y=n(208),b=n.n(y),E=n(209),O=n.n(E);var _=function(e){const t=r.Children.only(e),n=t.props,c=t.type,o=function(e){class t extends r.Component{render(){return a.a.createElement(s.ReactReduxContext.Consumer,null,t=>{let n=t.store;Object(p.a)(t,["store"]);return a.a.createElement(s.ReactReduxContext.Provider,{value:{store:n.liftedStore,storeState:n.liftedStore.getState()}},a.a.createElement(e,this.props))})}}return t}(Object(s.connect)(e=>e)(c));class i extends r.Component{render(){return a.a.createElement(o,n)}}return i.instrument=e=>d()((e,t)=>c.update(n,e,t),e),i}(a.a.createElement(b.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q",changeMonitorKey:"ctrl-m",defaultIsVisible:!0},a.a.createElement(j.a,{theme:"tomorrow"}),a.a.createElement(O.a,{keyboardEnabled:!0}))),h=n(18),v=n.n(h),g=n(37);var C=n(47),w=n(215);const x={id:{faker:"random.uuid"},name:{faker:"commerce.productName",length:15},email:{faker:"internet.email"},count:{faker:"random.number"},price:{faker:"finance.amount(100, 1000000, 2)"},currency:{static:"USD"}};function k(){return D.apply(this,arguments)}function D(){return(D=Object(C.a)(v.a.mark((function e(t=5){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(w.a)().schema("products",x,t).build().then(e=>new Promise(t=>{setTimeout(()=>t(e.products),1e3)}),e=>console.error(e)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=v.a.mark(S),U=v.a.mark(z);function S({payload:e={}}){var t,n,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.count,n=void 0===t?5:t,a.next=4,Object(g.a)(k,n);case 4:return r=a.sent,a.next=7,Object(g.b)({type:"PRODUCTS_FETCH_SUCCEEDED",payload:{data:r,loading:!1}});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(g.b)({type:"PRODUCTS_FETCH_FAILED",payload:{error:a.t0.message,loading:!1}});case 13:case"end":return a.stop()}}),T,null,[[0,9]])}function z(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)("PRODUCTS_FETCH_REQUESTED",S);case 2:case"end":return e.stop()}}),U)}var A=z;const I={data:[],loading:!1,error:!1};var K=n(49),R=n(16),B=n(11),N=n(36),P=n(8);function F(){const e=Object(R.a)(["\n  background: blueviolet;\n  border-radius: 10px;\n  padding: 4px;\n  color: white;\n  font-size: 12pt;\n"]);return F=function(){return e},e}function H(){const e=Object(R.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 80%;\n"]);return H=function(){return e},e}function L(){const e=Object(R.a)(["\n  text-align: left;\n  padding: 4px;\n  font-size: 12pt;\n"]);return L=function(){return e},e}function Z(){const e=Object(R.a)(["\n  box-sizing: border-box;\n  border: solid 3px gray;\n  overflow: hidden;\n  flex-grow: 1;\n  list-style: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  max-width: ","%;\n"]);return Z=function(){return e},e}function M(){const e=Object(R.a)(["\n  display: flex;\n  width: 100%;\n  flex-grow: 1;\n  ","\n  justify-content: space-between;\n"]);return M=function(){return e},e}function G(){const e=Object(R.a)(["\n  width: 70%;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  padding: 0;\n"]);return G=function(){return e},e}const Q=P.default.div(G()),J=P.default.div(M(),({gray:e})=>e?"& > ".concat(V," { background: lightgray; }"):""),V=P.default.div(Z(),({size:e})=>e||33),W=P.default.div(L()),X=Object(P.default)(W)(H()),q=P.default.div(F()),Y=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function $({price:e}){return a.a.createElement(W,null,Y.format(e))}function ee(e,t){if(!e||!t)return!1;const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});switch(t){case"asc":return(t,r)=>n.compare(t[e],r[e]);case"desc":return(t,r)=>n.compare(r[e],t[e]);case"default":default:return!1}}const te={sort:{sortByKey:!1,directionKey:0},sortOptions:{},sortTitle:{asc:"\\/",desc:"/\\",default:"||"},filter:!1};function ne(e,t){switch(t.type){case"sortInit":{const n=t.payload,r=n.key,a=n.dataIndex,c=n.sortDirections;return Object(f.a)(Object(f.a)({},e),{},{sortOptions:Object(f.a)(Object(f.a)({},e.sortOptions),{},{[r]:{dataIndex:a,sortDirections:c}})})}case"sortToggle":{const n=t.payload.sortByKey,r=(e.sort.sortByKey===n?e.sort:{directionKey:0}).directionKey,a=r===e.sortOptions[n].sortDirections.length-1?0:r+1;return Object(f.a)(Object(f.a)({},e),{},{sort:{sortByKey:n,directionKey:a}})}default:return e}}function re(){const e=Object(R.a)(["\n  display: flex;\n"]);return re=function(){return e},e}function ae(){const e=Object(R.a)(["\n  display: flex;\n"]);return ae=function(){return e},e}function ce(){const e=Object(R.a)(["\n  cursor: pointer;\n"]);return ce=function(){return e},e}function oe(){const e=Object(R.a)(["\n  user-select: none;\n"]);return oe=function(){return e},e}const se=Object(P.default)(V)(oe()),ie=Object(P.default)(se)(ce()),le=P.default.button(ae()),ue=P.default.div(re());function de({data:e,loading:t,error:n,columns:c}){const o=Object(r.useReducer)(ne,te),s=Object(K.a)(o,2),i=s[0],l=s[1],u=Object(B.d)(),d=new URLSearchParams(Object(B.e)().search).get("search"),f=Object(r.useState)(d),p=Object(K.a)(f,2),m=p[0],j=p[1];Object(r.useEffect)(()=>{c.filter(e=>e.sortDirections).forEach(({key:e,dataIndex:t,sortDirections:n})=>{l({type:"sortInit",payload:{key:e,dataIndex:t,sortDirections:n}})})},[c,l]);const y=function(e){const t=e.sort,n=t.sortByKey,r=t.directionKey,a=e.sortOptions[n]||{},c=a.dataIndex,o=a.sortDirections,s=(void 0===o?[]:o)[r]||!1;return[ee(c,s),s]}(i),b=Object(K.a)(y,2),E=b[0],O=b[1],_=E?e.slice(0).sort(E):e,h=d?_.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())):_;return a.a.createElement(Q,null,a.a.createElement(J,null,a.a.createElement(W,null,a.a.createElement(ue,null,a.a.createElement("input",{type:"text",onChange:e=>{e.preventDefault(),j(e.target.value)},onKeyUp:e=>{console.log("handleKeypress",e),13===e.keyCode&&(console.log("keyCode"),u.push("/?search=".concat(e.target.value)))},value:m||d}),a.a.createElement(N.b,{to:"/?search=".concat(m)},a.a.createElement("button",null,"\u0418\u0441\u043a\u0430\u0442\u044c")))),a.a.createElement(W,null,a.a.createElement(le,null,"Add New"))),a.a.createElement(J,{key:"header-row"},c.map(({title:e,size:t,key:n,sortDirections:r})=>{const c="".concat("header-row","-").concat(n);if(r&&i.sort){const r=i.sort.sortByKey,o=n===r?i.sortTitle[O]:i.sortTitle.default;return a.a.createElement(ie,{key:c,onClick:()=>{l({type:"sortToggle",payload:{sortByKey:n}})},size:t},a.a.createElement(W,null,e),a.a.createElement(W,null,o))}return a.a.createElement(se,{key:c,size:t},a.a.createElement(W,null,e))})),a.a.createElement(fe,{data:h,columns:c}))}function fe({data:e,columns:t}){return e.map((e,n)=>{const r="row-".concat(n);return a.a.createElement(J,{key:r},a.a.createElement(pe,{rowKey:r,item:e,columns:t}))})}function pe({rowKey:e,item:t,columns:n}){return n.map(n=>a.a.createElement(V,{key:"".concat(e,"-").concat(n.key),size:n.size},n.render?n.render(t):t))}const me=[{key:"name",title:"Name",dataIndex:"name",sortDirections:["default","asc","desc"],size:45,render:e=>a.a.createElement(a.a.Fragment,null,a.a.createElement(X,null,e.name),a.a.createElement(q,null,e.count))},{key:"price",title:"Price",dataIndex:"price",sortDirections:["default","asc","desc"],size:30,render:e=>a.a.createElement($,{price:e.price})},{key:"actions",title:"Actions",size:25,render:(e,t={edit:()=>{},delete:()=>{}})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:t.edit(e)},"Edit"),a.a.createElement("button",{onClick:t.delete(e)},"Delete"))}];var je=Object(s.connect)(e=>({products:e.products}))((function({products:e,dispatch:t}){const n=e.data,c=e.loading,o=e.error;return Object(r.useEffect)(()=>{t({type:"PRODUCTS_FETCH_REQUESTED",payload:{count:100}})},[t]),a.a.createElement("div",{className:"products"},a.a.createElement(de,{data:n,loading:c,error:o,columns:me,filterBy:"name"}))}));const ye=Object(l.a)(),be=Object(i.c)({products:function(e=I,{type:t,payload:n}){switch(t){case"PRODUCTS_FETCH_REQUESTED":return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case"PRODUCTS_FETCH_SUCCEEDED":{const t=n.data;return Object(f.a)(Object(f.a)({},e),{},{data:t,loading:!1,error:!1})}case"PRODUCTS_FETCH_FAILED":{const t=n.error;return Object(f.a)(Object(f.a)({},e),{},{error:t,loading:!1})}default:return e}}}),Ee=Object(i.e)(be,Object(i.d)(Object(i.a)(ye),_.instrument()));ye.run(A);var Oe=Ee;n(1813);var _e=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N.a,null,a.a.createElement(je,null)))};const he=document.getElementById("root");o.a.render(a.a.createElement(s.Provider,{store:Oe},a.a.createElement(_e,null),a.a.createElement(_,null)),he)},217:function(e,t,n){e.exports=n(1814)}},[[217,1,2]]]);
//# sourceMappingURL=main.5cf3fcec.chunk.js.map